---
import ButtonCTA from "../components/atoms/ButtonCTA.astro"
import Social from "../components/molecules/Social.astro"
import Hero from "../components/organisms/Hero.astro"
import Section from "../components/organisms/Section.astro"
import Layout from "../layouts/Layout.astro"
import ExperienceCard from "../components/molecules/ExperienceCard.astro"
import ProjectCard from "../components/molecules/ProjectCard.astro"

interface Frontmatter {
  title: string
  imgSrc: string
  type: string
  description: string
  href: string
}

const projects = await Astro.glob<Frontmatter>("./projects/*.mdx")
console.log(projects)
---

<Layout title="rafanco">
  <Hero>
    <img
      class="logo-memoji"
      src="src/assets/images/memoji.PNG"
      alt="memoji de rafael"
    />
    <h1>Rafael Díaz</h1>
    <p>Soy la persona que necesitas para el proyecto que tienes en mente.</p>
    <Social />
    <div class="cta-container">
      <ButtonCTA href="">Contactar</ButtonCTA>
      <ButtonCTA href="">Sobre mí</ButtonCTA>
    </div>
  </Hero>
  <Section title="Proyectos" id="proyectos">
    <div class="card-wrapper-grid-2col">
      {
        projects.map((projects) => (
          <ProjectCard
            title={projects.frontmatter.title}
            imgSrc={projects.frontmatter.imgSrc}
            type={projects.frontmatter.type}
            url={"/projects/" + projects.frontmatter.href}
          >
            {projects.frontmatter.description}
          </ProjectCard>
        ))
      }
    </div>
  </Section>
  <Section title="Experiencia" id="experiencia">
    <div class="card-wrapper-column">
      <ExperienceCard
        employer="Viña Viva"
        date="15/12/2022 - 1/9/2023"
        role="Desarrollador Web"
      >
        Investigación UX y desarrollo de un sitio web para Viña Viva. Asociación
        para la defensa del patrimonio vitivinícola, en la región del Condado de
        Huelva.
      </ExperienceCard>
      <ExperienceCard
        employer="Geserisk"
        date="15/6/2022 - 15/12/2022"
        role="Analista de ciberseguridad"
      >
        Implementación y despliegue de servidores NGINX. Asistencia informática
        HelpDesk. Informar sobre las alertas de seguridad. Configuración del
        firewall Fortinet. Instalación y mantenimiento de equipos informáticos.
      </ExperienceCard>
      <ExperienceCard
        employer="FitnessAlvaro"
        date="20/6/2018 - 30/9/2018"
        role="Gestor de información para redes sociales"
      >
        Creacíon de vídeos para redes sociales y publicaciones. Grabación y
        edición de vídeos para Youtube. Edición de audio. Creación de gráficos
        en movimiento necesarios para vídeos, como cuentas atrás o encabezados
        de vídeo. Diseño y creación de miniaturas para vídeos. Uso de programas
        de Adobe.
      </ExperienceCard>
    </div>
  </Section>

  <style>
    .logo-memoji {
      width: 150px;
      height: auto;
    }
    .cta-container {
      display: flex;
      flex-direction: row;
      gap: 8px;
    }
    .card-wrapper-column {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .card-wrapper-row {
      display: flex;
      flex-direction: row;
      gap: 16px;
    }
    .card-wrapper-grid-2col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
  </style>
</Layout>
